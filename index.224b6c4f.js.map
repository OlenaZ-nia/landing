{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1b93b2fe4a650006.js","src/js/slider-plugin.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.224b6c4f.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.a2a889bd.svg\\\",\\\"1XaNB\\\":\\\"index.7e9258e4.css\\\"}\"));","class Slider {\n    constructor({rootSelector}) {\n        this._refs = this._getRefs(rootSelector);\n        this._ind = 0;\n        this._bindEvents();\n    }\n\n  _getRefs(root) {\n    const refs = {};\n    refs.controls = document.querySelector(`.${root} .buttons-arrow`);\n    refs.slides = document.querySelectorAll(`.${root} .slide-list__item`);\n    return refs;\n  }\n\n    _bindEvents() {\n    this._refs.controls.addEventListener(\n      'click',\n      this._onControlsClick.bind(this),\n    );\n  }\n\n  _onControlsClick(e) {\n    e.preventDefault();\n\n    if (e.target.nodeName === 'BUTTON') {\n\n    if (e.target.className === 'next') {\n      this._refs.slides[this._ind].style.display = 'none';\n      this._ind++;\n      if (this._ind >= this._refs.slides.length) {\n        this._ind = 0;\n      }\n      \n      this._refs.slides[this._ind].style.display = 'block';\n    }\n\n    if (e.target.className === 'prev') {\n      this._refs.slides[this._ind].style.display = 'none';\n        this._ind --;\n      if (this._ind < 0) {\n        this._ind = this._refs.slides.length - 1;\n      }\n      \n      this._refs.slides[this._ind].style.display = 'block';\n    }\n      }\n      \n  }\n}\n\nconst slider = new Slider({ rootSelector: 'slider-1' })\nconst slider2 = new Slider({ rootSelector: 'slider-2' })\nconst slider3 = new Slider({ rootSelector: 'slider-3' })\nconst slider4 = new Slider({ rootSelector: 'slider-4' })\nconst slider5 = new Slider({ rootSelector: 'slider-5' })\nconst sliderReviews = new Slider({ rootSelector: 'reviews-sl' })","import { sendRequest } from './htr';\n//getRef\nconst modal = document.querySelector('.modal');\nconst backdrop = document.querySelector('.modal__body');\n\nconst btnOpen = document.querySelectorAll('.btn-order');\n\nconst btnBasket = document.querySelector('[data-action=\"open-basket\"]');\nconst quantity = btnBasket.querySelector('.basket-quantity');\n\nlet currentFocusEl;\nlet currentModal;\nlet textOrder;\nlet articul;\nlet price;\nlet allListOrder = [];\n\nlet orderPost = {};\n\nlet dialogIsOpen = false;\n\ngetStateBasket();\n\n//get interactiv elements on page without modal\nconst INTERACTIVE_SELECTORS = [\n  'a',\n  'button',\n  'input',\n  'textarea',\n  '[tabindex]',\n];\nconst addTag = ':not(.modal *)';\nconst getInteractiveSelectors = INTERACTIVE_SELECTORS.map(el => {\n  const x = el.concat(addTag);\n  return x;\n});\nconst focusableElsDoc = document.querySelectorAll(\n  getInteractiveSelectors.toString()\n);\n\nbtnOpen.forEach(btn => {\n  btn.addEventListener('click', onOpenModal);\n});\n\nbtnBasket.addEventListener('click', onOpenModal);\n\nfunction printQuantity() {\n  const x = allListOrder.reduce(function (acc, el) {\n    acc += el.number;\n    return acc;\n  }, 0);\n  // quantity.textContent = allListOrder.length;\n  quantity.textContent = x;\n}\n\nfunction onOpenModal(e) {\n  // console.log(\"open modal\")\n  e.preventDefault();\n\n  currentFocusEl = e.target; //****btn-order****btn-basket<--btn-continue */\n\n  //Open form1-feature\n  if (e.target.className === 'btn-order') {\n    articul = e.target.dataset.art;\n\n    //get description info\n    const elDesc = e.target.closest('.description');\n    const size = getSize(elDesc);\n    const color = getColor(elDesc);\n\n    price = getPrice(elDesc);\n\n    const templateForm = createItemsFormDesc(articul, color, size, price);\n\n    const formDesc = document.getElementById('form1');\n    resetFormElements(formDesc);\n    formDesc.insertAdjacentHTML('afterbegin', templateForm);\n    formDesc.querySelector('[name=\"color\"]').checked = true;\n    formDesc.querySelector('[name=\"size\"]').checked = true;\n\n    currentModal = modal.querySelector('.modal #dialog1');\n  }\n\n  if (e.target.className === 'basket-btn') {\n    currentModal = modal.querySelector('.modal #dialog2');\n    openBasket();\n  }\n  if (e.target.dataset.action === 'continue') {\n    //open Dialog3-pay  e=click continue**************\n\n    const id = new Date()\n      .toLocaleString()\n      .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '&' : ''));\n\n    currentModal = modal.querySelector('.modal #dialog3');\n    currentModal.querySelector('#form3').reset();\n    textOrder = currentModal.querySelector('.text-order');\n    textOrder.textContent = `Замовлення №${id} на суму ${orderPost.sum}!`;\n  }\n\n  modal.classList.add('is-open');\n  currentModal.classList.remove('hidden');\n  dialogIsOpen = true;\n\n  let el; // function deleteTabInd(){}\n  for (let i = 0; i < focusableElsDoc.length; i++) {\n    el = focusableElsDoc[i];\n    el.setAttribute('tabindex', '-1');\n  }\n\n  const form = currentModal.querySelector('.js-order-form');\n  if (currentModal.id !== 'dialog2') {\n    form.addEventListener('submit', onFormSubmit);\n  }\n\n  const btnClose = currentModal.querySelector('[data-action=\"close-modal\"]');\n\n  if (form.id === 'form1') {\n    const number = form.querySelector('.number-amount');\n    number.addEventListener('change', countSum);\n  }\n\n  window.addEventListener('keydown', onEscKeyPress);\n  btnClose.addEventListener('click', onCloseModal);\n  backdrop.addEventListener('click', onBackdropClick);\n\n  trapFocus();\n}\n\nfunction resetFormElements(formId) {\n  while (formId.firstChild) {\n    formId.removeChild(formId.firstChild);\n  }\n}\n\nfunction onCloseModal() {\n  // console.log(\"close modal\")\n  let el;\n  for (let i = 0; i < focusableElsDoc.length; i++) {\n    el = focusableElsDoc[i];\n    el.setAttribute('tabindex', '0');\n  }\n\n  const form = currentModal.querySelector('.js-order-form');\n  const btnClose = currentModal.querySelector('[data-action=\"close-modal\"]');\n\n  if (form.id !== 'form2') {\n    form.removeEventListener('submit', onFormSubmit);\n  }\n\n  window.removeEventListener('keydown', onEscKeyPress);\n  modal.classList.remove('is-open');\n  backdrop.removeEventListener('click', onBackdropClick);\n  btnClose.removeEventListener('click', onCloseModal);\n\n  currentModal.classList.add('hidden');\n  dialogIsOpen = false;\n\n  currentFocusEl.focus(); //**basket-- */\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(e) {\n  const isEscKey = e.code === 'Escape';\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.currentTarget);\n  // const id = new Date()\n  //   .toLocaleString()\n  //   .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '-' : ''));\n  // formData.append('id', id);\n\n  if (e.currentTarget.id === 'form1') {\n    formData.append('articul', articul);\n  }\n\n  let nextOrder = {};\n\n  formData.forEach((value, name) => {\n    if (name === 'number' || name === 'sum' || name === 'count') {\n      nextOrder[name] = Number(value);\n    } else {\n      nextOrder[name] = value;\n    }\n  });\n\n  // if dialog1 click on btn data-action=\"add\"\n  if (e.currentTarget.id === 'form1') {\n    const number = e.currentTarget.querySelector('.number-amount');\n    number.removeEventListener('change', countSum);\n\n    //write allListOrder\n    getAllListOrder(allListOrder, nextOrder);\n    updateStateBasket();\n\n    //print quantity\n    printQuantity();\n  }\n\n  //if dialog3 submit on btnSub in form3  ***********\n  if (e.currentTarget.id === 'form3') {\n    const id = new Date()\n      .toLocaleString()\n      .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '-' : ''));\n\n    const buy = () => {\n      orderPost.id = id;\n      orderPost.customer = nextOrder;\n      return orderPost;\n    };\n    buy();\n\n    //***************** */\n    let msg = encodeURI(getMsg(orderPost));\n\n    //send order to telegram\n    // sendRequest(msg)\n    //   .then(data => console.log('telegram', data))\n    //   .catch(err => console.log(err));\n\n    console.log('telegram', getMsg(orderPost));\n\n    allListOrder = [];\n    updateStateBasket();\n    printQuantity();\n\n    //clear Basket table\n    const basketTable = document.querySelector('.basket-table tbody');\n    resetFormElements(basketTable);\n\n    const tableRowSum = document.querySelector('.basket-table .sum #sum');\n    tableRowSum.value = '0';\n  }\n\n  e.currentTarget.reset();\n  onCloseModal();\n}\n\nfunction getMsg(arr) {\n  let str = '';\n  let user = '';\n  const y = `<strong> Order №: ${arr.id}</strong>`;\n  for (let key in arr.customer) {\n    user += `${key}: ` + `${arr.customer[key]}` + '\\n';\n  }\n\n  const x = arr.order.map(el => {\n    // const { articul, color, size, number, id, count } = el\n    return (\n      '\\n' +\n      `<i>Артикул №:</i> <b>${el.articul}</b>` +\n      '\\n' +\n      `<b>Колір:</b> ${el.color}` +\n      '\\n' +\n      `<b>Розмір:</b> ${el.size}` +\n      '\\n' +\n      `<b>Кількість:</b> ${el.number} шт.` +\n      '\\n' +\n      `<em>Вартість:</em> ${el.count} грн`\n    );\n  });\n\n  x.forEach(el => {\n    str += el + '\\n';\n  });\n  const sum = `<b>Загальна сума замовлення: ${arr.sum} грн.</b>`;\n\n  return y + '\\n' + '*******' + '\\n' + user + str + sum + '\\n' + '*******';\n}\n\nfunction getAllListOrder(allListOrder, nextOrder) {\n  const includes = allListOrder.findIndex(\n    el =>\n      el.articul === nextOrder.articul &&\n      el.color === nextOrder.color &&\n      el.size === nextOrder.size\n  );\n\n  if (includes === -1) {\n    //different dress\n    allListOrder.push(nextOrder);\n  } else {\n    //same dress\n    allListOrder[includes].number += nextOrder.number;\n    allListOrder[includes].count += nextOrder.count;\n  }\n}\n\nfunction trapFocus() {\n  const focusableElsMod = currentModal.querySelectorAll(\n    INTERACTIVE_SELECTORS.toString()\n  );\n  const firstFocusEl = focusableElsMod[0];\n  const lastFocusEl = focusableElsMod[focusableElsMod.length - 1];\n\n  const KEYCOD_TAB = 9;\n\n  setTimeout(function () {\n    focusableElsMod[1].focus();\n  }, 1000);\n\n  currentModal.addEventListener('keydown', restrectFocus);\n\n  if (!dialogIsOpen) {\n    currentModal.removeEventListener('keydown', restrectFocus);\n  }\n\n  function restrectFocus(e) {\n    const isTabPressed = e.code === 'Tab' || e.keyCode === KEYCOD_TAB;\n    if (!isTabPressed) {\n      return;\n    }\n\n    if (e.shiftKey) {\n      if (document.activeElement === firstFocusEl) {\n        lastFocusEl.focus();\n        e.preventDefault();\n      }\n    } else if (isTabPressed) {\n      if (document.activeElement === lastFocusEl) {\n        firstFocusEl.focus();\n        e.preventDefault();\n      }\n    }\n  }\n}\n\nfunction countSum(e) {\n  const el = currentModal.querySelector('.count-sum');\n  el.value = price * e.target.value;\n}\n\nfunction getStateBasket() {\n  try {\n    const myBasket = localStorage.getItem('myBasket');\n    const parseMyBasket = JSON.parse(myBasket);\n\n    if (parseMyBasket !== null && parseMyBasket?.length !== 0) {\n      allListOrder = parseMyBasket;\n      printQuantity();\n    }\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nfunction updateStateBasket() {\n  try {\n    localStorage.setItem('myBasket', JSON.stringify(allListOrder));\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nfunction getSize(elDesc) {\n  const sizeNodeArr = elDesc.querySelectorAll('.desc-size');\n  const size = [];\n  sizeNodeArr.forEach(el => size.push(el.textContent));\n  return size;\n}\n\nfunction getColor(elDesc) {\n  const colorStr = elDesc.querySelector('.desc-color').textContent.trim();\n  const colorsArr = colorStr\n    .replace(/колір|[\\.:]/gi, '')\n    .trim()\n    .split(/\\s*,\\s*/);\n\n  return colorsArr;\n}\n\nfunction getPrice(elDesc) {\n  // const currentPrice = elDesc.querySelector('.current').textContent.trim();\n  const actualPrice = elDesc.querySelector('.actual').textContent.trim();\n  const price = actualPrice.replace(/грн|[\\s]/g, '');\n\n  return price;\n}\n\nfunction createItemsFormDesc(articul, colors, sizeArr, price) {\n  //color\n  const color = colors\n    .map(el => {\n      return `<label><input type=\"radio\" name=\"color\" value=\"${el}\"/>${el}</label>`;\n    })\n    .join('');\n\n  //size\n  const size = sizeArr\n    .map(el => {\n      return `<label><input type=\"radio\" name=\"size\" value=\"${el}\"/>${el}</label>`;\n    })\n    .join('');\n\n  //create all elements of Form\n  const formEl = `<h2 id=\"dialog1_label\" class=\"modal-label\">\n              Ви хочете замовити модель №${articul}\n            </h2>\n            <fieldset form=\"form1\">\n              <legend>Оберіть колір:</legend>\n              ${color}\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Оберіть розмір:</legend>\n              ${size}\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Вкажіть кількість:</legend>\n              <label>\n                Вкажіть кількість:\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"10\"\n                  step=\"1\"\n                  value=\"1\"\n                  name=\"number\"\n                  class=\"number-amount\"\n                />\n              </label>\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Вартість:</legend>\n              <label>\n                Вартість:\n                <input\n                  type=\"number\"\n                  value=\"${price}\"\n                  name=\"count\"\n                  class=\"count-sum\"\n                  readonly\n                />грн\n              </label>\n            </fieldset>\n            <button type=\"submit\" class=\"btnSub\" data-action=\"add\">\n              В кошик\n            </button>`;\n\n  return formEl;\n}\n\nfunction openBasket() {\n  //Get Ref  data-action continue\n  const btnSubOrder = currentModal.querySelector('.btnSub'); //click-btn\n\n  const tableRowSum = currentModal.querySelector('.basket-table .sum #sum');\n  const basketTable = document.querySelector('.basket-table tbody');\n\n  if (allListOrder.length === 0) {\n    btnSubOrder.setAttribute('disabled', 'true');\n    return;\n  } else {\n    btnSubOrder.removeAttribute('disabled');\n  }\n\n  //clear tableList\n  while (basketTable.firstChild) {\n    basketTable.removeChild(basketTable.firstChild);\n  }\n\n  //Create basketTable\n  const createBasketList = createItems(allListOrder); // nextOrder\n\n  basketTable.insertAdjacentHTML('afterbegin', createBasketList.itemList);\n  tableRowSum.value = createBasketList.i;\n\n  //on click-continue\n  btnSubOrder.addEventListener('click', onClickBtn, { once: true }); //****once: true */\n\n  //Delete\n  const btnDelete = basketTable.querySelectorAll('.btn-delete');\n\n  btnDelete.forEach(btn => {\n    btn.addEventListener('click', onDelete, { once: true });\n  });\n}\n\nfunction createItems(arr) {\n  const imageUrl = new URL('../images/symbol-defs.svg', import.meta.url);\n  // console.log(imageUrl.pathname);\n  let i = 0;\n\n  const itemList = arr\n    .map(el => {\n      const { articul, color, size, number, id, count } = el;\n      i += count;\n\n      return `<tr id=\"${articul}\" class=\"item-delete\">\n              <td class=\"col1-row1\">\n                <label\n                  ><input\n                    type=\"text\"\n                    name=\"articul\"\n                    id=\"articul\"\n                    value=\"${articul}\"\n                    readonly\n                /></label>\n              </td>\n              <td class=\"col2-row2\">\n                <label\n                  ><input type=\"text\" name=\"color\" id=\"color\" value=\"${color}\" readonly\n                /></label>\n              </td>\n              <td class=\"col3-row3\">\n                <label\n                  ><input type=\"text\" name=\"size\" id=\"size\" value=\"${size}\" readonly\n                /></label>\n              </td>\n              <td class=\"col4-row4 num\">\n                <label\n                  ><input type=\"text\" name=\"number\" id=\"number\" value=\"${number}\" readonly\n                /></label>\n              </td>\n              <td class=\"col5-row5 num-sum\">\n                <label\n                  ><input type=\"text\" name=\"count\" id=\"count\" value=\"${count}\" readonly\n                /></label>\n              </td>\n              <td class=\"col6-row6\">\n                <button\n                  type=\"button\"\n                  class=\"btn-delete\"\n                  data-action=\"delete\"\n                  id=\"${id}\"\n                >\n                  <svg class=\"btn-delete__icon\">\n            <use\n              href=\"${imageUrl}#icon-basket-delete\"\n            ></use>\n          </svg>\n                </button>\n              </td>\n            </tr>`;\n    })\n    .join('');\n  return { itemList, i };\n}\n\nfunction onClickBtn(e) {\n  // create order  action='continue'\n  e.preventDefault();\n\n  //form2\n  let obj = {};\n  let order = [];\n  orderPost = { order };\n\n  const elements = e.target\n    .closest('#form2')\n    .querySelectorAll('input, textarea');\n\n  for (let i = 0; i < elements.length; ++i) {\n    const element = elements[i];\n    const name = element.name;\n    const value = element.value;\n\n    if (name !== 'sum') {\n      if (obj[name]) {\n        order.push(obj);\n        obj = {};\n      }\n      if (name === 'number' || name === 'count') {\n        obj[name] = Number(value);\n      } else {\n        obj[name] = value;\n      }\n    } else {\n      orderPost[name] = Number(value);\n    }\n  }\n  order.push(obj);\n\n  //change modal window\n  onCloseModal();\n  onOpenModal(e);\n}\n\nfunction onDelete(e) {\n  if (allListOrder.length === 1) {\n    const btnSubOrder = currentModal.querySelector('.btnSub');\n    btnSubOrder.setAttribute('disabled', 'true');\n  }\n\n  let updateBasket = allListOrder.filter(el => el.id !== e.target.id);\n\n  allListOrder = updateBasket;\n  updateStateBasket();\n\n  printQuantity();\n\n  //remove element\n  e.target.closest('.item-delete').remove();\n\n  //update Sum\n  const updateSum = updateBasket.reduce(function (acc, el) {\n    acc += el.count;\n    return acc;\n  }, 0);\n\n  const tableRowSum = currentModal.querySelector('.basket-table .sum #sum');\n  tableRowSum.value = updateSum;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$dd8b3296f3c686b8$var$Slider","constructor","rootSelector","this","_refs","_getRefs","_ind","_bindEvents","root","refs","controls","document","querySelector","slides","querySelectorAll","addEventListener","_onControlsClick","bind","e","preventDefault","target","nodeName","className","style","display","$8a7e756c566dd1ea$var$modal","$8a7e756c566dd1ea$var$backdrop","$8a7e756c566dd1ea$var$btnOpen","$8a7e756c566dd1ea$var$btnBasket","$8a7e756c566dd1ea$var$quantity","$8a7e756c566dd1ea$var$currentFocusEl","$8a7e756c566dd1ea$var$currentModal","$8a7e756c566dd1ea$var$textOrder","$8a7e756c566dd1ea$var$articul","$8a7e756c566dd1ea$var$price","$8a7e756c566dd1ea$var$allListOrder","$8a7e756c566dd1ea$var$orderPost","$8a7e756c566dd1ea$var$dialogIsOpen","myBasket","localStorage","getItem","parseMyBasket","$8a7e756c566dd1ea$var$printQuantity","error","console","log","$8a7e756c566dd1ea$var$getStateBasket","$8a7e756c566dd1ea$var$INTERACTIVE_SELECTORS","$8a7e756c566dd1ea$var$getInteractiveSelectors","map","el","concat","$8a7e756c566dd1ea$var$focusableElsDoc","toString","x","reduce","acc","number","textContent","$8a7e756c566dd1ea$var$onOpenModal","dataset","art","elDesc","closest","size","sizeNodeArr","forEach","push","$8a7e756c566dd1ea$var$getSize","color","colorStr","trim","replace","split","$8a7e756c566dd1ea$var$getColor","actualPrice","$8a7e756c566dd1ea$var$getPrice","templateForm","articul","colors","sizeArr","price","join","formEl","$8a7e756c566dd1ea$var$createItemsFormDesc","formDesc","getElementById","$8a7e756c566dd1ea$var$resetFormElements","insertAdjacentHTML","checked","btnSubOrder","tableRowSum","basketTable","setAttribute","removeAttribute","firstChild","removeChild","createBasketList","arr","imageUrl","URL","$10db6f286535da77$exports","itemList","count","$8a7e756c566dd1ea$var$createItems","value","$8a7e756c566dd1ea$var$onClickBtn","once","btn","$8a7e756c566dd1ea$var$onDelete","$8a7e756c566dd1ea$var$openBasket","action","Date","toLocaleString","smb","reset","sum","classList","add","remove","form","$8a7e756c566dd1ea$var$onFormSubmit","btnClose","$8a7e756c566dd1ea$var$countSum","window","$8a7e756c566dd1ea$var$onEscKeyPress","$8a7e756c566dd1ea$var$onCloseModal","$8a7e756c566dd1ea$var$onBackdropClick","focusableElsMod","firstFocusEl","lastFocusEl","KEYCOD_TAB","setTimeout","focus","restrectFocus","removeEventListener","isTabPressed","code","keyCode","shiftKey","activeElement","$8a7e756c566dd1ea$var$trapFocus","formId","currentTarget","formData","FormData","append","nextOrder","name","Number","allListOrder","includes","findIndex","$8a7e756c566dd1ea$var$getAllListOrder","$8a7e756c566dd1ea$var$updateStateBasket","customer","buy","encodeURI","$8a7e756c566dd1ea$var$getMsg","str","user","y","key","order","setItem","stringify","obj","elements","element","updateBasket","filter","updateSum","resolve","url"],"version":3,"file":"index.224b6c4f.js.map"}