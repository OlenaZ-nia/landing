{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-3e5405f233ff106e.js","src/js/slider-plugin.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-9af8b56050e476fa.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.e8ca828f.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.a2a889bd.svg\\\",\\\"1XaNB\\\":\\\"index.7e9258e4.css\\\"}\"));","class Slider {\n    constructor({rootSelector}) {\n        this._refs = this._getRefs(rootSelector);\n        this._ind = 0;\n        this._bindEvents();\n    }\n\n  _getRefs(root) {\n    const refs = {};\n    refs.controls = document.querySelector(`.${root} .buttons-arrow`);\n    refs.slides = document.querySelectorAll(`.${root} .slide-list__item`);\n    return refs;\n  }\n\n    _bindEvents() {\n    this._refs.controls.addEventListener(\n      'click',\n      this._onControlsClick.bind(this),\n    );\n  }\n\n  _onControlsClick(e) {\n    e.preventDefault();\n\n    if (e.target.nodeName === 'BUTTON') {\n\n    if (e.target.className === 'next') {\n      this._refs.slides[this._ind].style.display = 'none';\n      this._ind++;\n      if (this._ind >= this._refs.slides.length) {\n        this._ind = 0;\n      }\n      \n      this._refs.slides[this._ind].style.display = 'block';\n    }\n\n    if (e.target.className === 'prev') {\n      this._refs.slides[this._ind].style.display = 'none';\n        this._ind --;\n      if (this._ind < 0) {\n        this._ind = this._refs.slides.length - 1;\n      }\n      \n      this._refs.slides[this._ind].style.display = 'block';\n    }\n      }\n      \n  }\n}\n\nconst slider = new Slider({ rootSelector: 'slider-1' })\nconst slider2 = new Slider({ rootSelector: 'slider-2' })\nconst slider3 = new Slider({ rootSelector: 'slider-3' })\nconst slider4 = new Slider({ rootSelector: 'slider-4' })\nconst slider5 = new Slider({ rootSelector: 'slider-5' })\nconst sliderReviews = new Slider({ rootSelector: 'reviews-sl' })","import { sendRequest } from './htr';\n//getRef\nconst modal = document.querySelector('.modal');\nconst backdrop = document.querySelector('.modal__body');\n\nconst btnOpen = document.querySelectorAll('.btn-order');\n\nconst btnBasket = document.querySelector('[data-action=\"open-basket\"]');\nconst quantity = btnBasket.querySelector('.basket-quantity');\n\nlet currentFocusEl;\nlet currentModal;\nlet textOrder;\nlet articul;\nlet price;\nlet allListOrder = [];\n\nlet orderPost = {};\n\nlet dialogIsOpen = false;\n\ngetStateBasket();\n\n//get interactiv elements on page without modal\nconst INTERACTIVE_SELECTORS = [\n  'a',\n  'button',\n  'input',\n  'textarea',\n  '[tabindex]',\n];\nconst addTag = ':not(.modal *)';\nconst getInteractiveSelectors = INTERACTIVE_SELECTORS.map(el => {\n  const x = el.concat(addTag);\n  return x;\n});\nconst focusableElsDoc = document.querySelectorAll(\n  getInteractiveSelectors.toString()\n);\n\nbtnOpen.forEach(btn => {\n  btn.addEventListener('click', onOpenModal);\n});\n\nbtnBasket.addEventListener('click', onOpenModal);\n\nfunction printQuantity() {\n  const x = allListOrder.reduce(function (acc, el) {\n    acc += el.number;\n    return acc;\n  }, 0);\n  // quantity.textContent = allListOrder.length;\n  quantity.textContent = x;\n}\n\nfunction onOpenModal(e) {\n  // console.log(\"open modal\")\n  e.preventDefault();\n\n  currentFocusEl = e.target; //****btn-order****btn-basket<--btn-continue */\n\n  //Open form1-feature\n  if (e.target.className === 'btn-order') {\n    articul = e.target.dataset.art;\n\n    //get description info\n    const elDesc = e.target.closest('.description');\n    const size = getSize(elDesc);\n    const color = getColor(elDesc);\n\n    price = getPrice(elDesc);\n\n    const templateForm = createItemsFormDesc(articul, color, size, price);\n\n    const formDesc = document.getElementById('form1');\n    resetFormElements(formDesc);\n    formDesc.insertAdjacentHTML('afterbegin', templateForm);\n    formDesc.querySelector('[name=\"color\"]').checked = true;\n    formDesc.querySelector('[name=\"size\"]').checked = true;\n\n    currentModal = modal.querySelector('.modal #dialog1');\n  }\n\n  if (e.target.className === 'basket-btn') {\n    currentModal = modal.querySelector('.modal #dialog2');\n    openBasket();\n  }\n  if (e.target.dataset.action === 'continue') {\n    //open Dialog3-pay  e=click continue**************\n\n    const id = new Date()\n      .toLocaleString()\n      .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '&' : ''));\n\n    currentModal = modal.querySelector('.modal #dialog3');\n    currentModal.querySelector('#form3').reset();\n    textOrder = currentModal.querySelector('.text-order');\n    textOrder.textContent = `Замовлення №${id} на суму ${orderPost.sum}!`;\n  }\n\n  modal.classList.add('is-open');\n  currentModal.classList.remove('hidden');\n  dialogIsOpen = true;\n\n  let el; // function deleteTabInd(){}\n  for (let i = 0; i < focusableElsDoc.length; i++) {\n    el = focusableElsDoc[i];\n    el.setAttribute('tabindex', '-1');\n  }\n\n  const form = currentModal.querySelector('.js-order-form');\n  if (currentModal.id !== 'dialog2') {\n    form.addEventListener('submit', onFormSubmit);\n  }\n\n  const btnClose = currentModal.querySelector('[data-action=\"close-modal\"]');\n\n  if (form.id === 'form1') {\n    const number = form.querySelector('.number-amount');\n    number.addEventListener('change', countSum);\n  }\n\n  window.addEventListener('keydown', onEscKeyPress);\n  btnClose.addEventListener('click', onCloseModal);\n  backdrop.addEventListener('click', onBackdropClick);\n\n  trapFocus();\n}\n\nfunction resetFormElements(formId) {\n  while (formId.firstChild) {\n    formId.removeChild(formId.firstChild);\n  }\n}\n\nfunction onCloseModal() {\n  // console.log(\"close modal\")\n  let el;\n  for (let i = 0; i < focusableElsDoc.length; i++) {\n    el = focusableElsDoc[i];\n    el.setAttribute('tabindex', '0');\n  }\n\n  const form = currentModal.querySelector('.js-order-form');\n  const btnClose = currentModal.querySelector('[data-action=\"close-modal\"]');\n\n  if (form.id !== 'form2') {\n    form.removeEventListener('submit', onFormSubmit);\n  }\n\n  window.removeEventListener('keydown', onEscKeyPress);\n  modal.classList.remove('is-open');\n  backdrop.removeEventListener('click', onBackdropClick);\n  btnClose.removeEventListener('click', onCloseModal);\n\n  currentModal.classList.add('hidden');\n  dialogIsOpen = false;\n\n  currentFocusEl.focus(); //**basket-- */\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(e) {\n  const isEscKey = e.code === 'Escape';\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.currentTarget);\n  // const id = new Date()\n  //   .toLocaleString()\n  //   .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '-' : ''));\n  // formData.append('id', id);\n\n  if (e.currentTarget.id === 'form1') {\n    formData.append('articul', articul);\n  }\n\n  let nextOrder = {};\n\n  formData.forEach((value, name) => {\n    if (name === 'number' || name === 'sum' || name === 'count') {\n      nextOrder[name] = Number(value);\n    } else {\n      nextOrder[name] = value;\n    }\n  });\n\n  // if dialog1 click on btn data-action=\"add\"\n  if (e.currentTarget.id === 'form1') {\n    const number = e.currentTarget.querySelector('.number-amount');\n    number.removeEventListener('change', countSum);\n\n    //write allListOrder\n    getAllListOrder(allListOrder, nextOrder);\n    updateStateBasket();\n\n    //print quantity\n    printQuantity();\n  }\n\n  //if dialog3 submit on btnSub in form3  ***********\n  if (e.currentTarget.id === 'form3') {\n    const id = new Date()\n      .toLocaleString()\n      .replace(/[\\s,\\.:]/g, smb => (smb == ',' ? '-' : ''));\n\n    const buy = () => {\n      orderPost.id = id;\n      orderPost.customer = nextOrder;\n      return orderPost;\n    };\n    buy();\n\n    //***************** */\n    let msg = encodeURI(getMsg(orderPost));\n\n    //send order to telegram\n    // sendRequest(msg)\n    //   .then(data => console.log('telegram', data))\n    //   .catch(err => console.log(err));\n\n    console.log('telegram', getMsg(orderPost));\n\n    allListOrder = [];\n    updateStateBasket();\n    printQuantity();\n\n    //clear Basket table\n    const basketTable = document.querySelector('.basket-table tbody');\n    resetFormElements(basketTable);\n\n    const tableRowSum = document.querySelector('.basket-table .sum #sum');\n    tableRowSum.value = '0';\n  }\n\n  e.currentTarget.reset();\n  onCloseModal();\n}\n\nfunction getMsg(arr) {\n  let str = '';\n  let user = '';\n  const y = `<strong> Order №: ${arr.id}</strong>`;\n  for (let key in arr.customer) {\n    user += `${key}: ` + `${arr.customer[key]}` + '\\n';\n  }\n\n  const x = arr.order.map(el => {\n    // const { articul, color, size, number, id, count } = el\n    return (\n      '\\n' +\n      `<i>Артикул №:</i> <b>${el.articul}</b>` +\n      '\\n' +\n      `<b>Колір:</b> ${el.color}` +\n      '\\n' +\n      `<b>Розмір:</b> ${el.size}` +\n      '\\n' +\n      `<b>Кількість:</b> ${el.number} шт.` +\n      '\\n' +\n      `<em>Вартість:</em> ${el.count} грн`\n    );\n  });\n\n  x.forEach(el => {\n    str += el + '\\n';\n  });\n  const sum = `<b>Загальна сума замовлення: ${arr.sum} грн.</b>`;\n\n  return y + '\\n' + '*******' + '\\n' + user + str + sum + '\\n' + '*******';\n}\n\nfunction getAllListOrder(allListOrder, nextOrder) {\n  const includes = allListOrder.findIndex(\n    el =>\n      el.articul === nextOrder.articul &&\n      el.color === nextOrder.color &&\n      el.size === nextOrder.size\n  );\n\n  if (includes === -1) {\n    //different dress\n    allListOrder.push(nextOrder);\n  } else {\n    //same dress\n    allListOrder[includes].number += nextOrder.number;\n    allListOrder[includes].count += nextOrder.count;\n  }\n}\n\nfunction trapFocus() {\n  const focusableElsMod = currentModal.querySelectorAll(\n    INTERACTIVE_SELECTORS.toString()\n  );\n  const firstFocusEl = focusableElsMod[0];\n  const lastFocusEl = focusableElsMod[focusableElsMod.length - 1];\n\n  const KEYCOD_TAB = 9;\n\n  setTimeout(function () {\n    focusableElsMod[1].focus();\n  }, 1000);\n\n  currentModal.addEventListener('keydown', restrectFocus);\n\n  if (!dialogIsOpen) {\n    currentModal.removeEventListener('keydown', restrectFocus);\n  }\n\n  function restrectFocus(e) {\n    const isTabPressed = e.code === 'Tab' || e.keyCode === KEYCOD_TAB;\n    if (!isTabPressed) {\n      return;\n    }\n\n    if (e.shiftKey) {\n      if (document.activeElement === firstFocusEl) {\n        lastFocusEl.focus();\n        e.preventDefault();\n      }\n    } else if (isTabPressed) {\n      if (document.activeElement === lastFocusEl) {\n        firstFocusEl.focus();\n        e.preventDefault();\n      }\n    }\n  }\n}\n\nfunction countSum(e) {\n  const el = currentModal.querySelector('.count-sum');\n  el.value = price * e.target.value;\n}\n\nfunction getStateBasket() {\n  try {\n    const myBasket = localStorage.getItem('myBasket');\n    const parseMyBasket = JSON.parse(myBasket);\n\n    if (parseMyBasket !== null && parseMyBasket?.length !== 0) {\n      allListOrder = parseMyBasket;\n      printQuantity();\n    }\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nfunction updateStateBasket() {\n  try {\n    localStorage.setItem('myBasket', JSON.stringify(allListOrder));\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nfunction getSize(elDesc) {\n  const sizeNodeArr = elDesc.querySelectorAll('.desc-size');\n  const size = [];\n  sizeNodeArr.forEach(el => size.push(el.textContent));\n  return size;\n}\n\nfunction getColor(elDesc) {\n  const colorStr = elDesc.querySelector('.desc-color').textContent.trim();\n  const colorsArr = colorStr\n    .replace(/колір|[\\.:]/gi, '')\n    .trim()\n    .split(/\\s*,\\s*/);\n\n  return colorsArr;\n}\n\nfunction getPrice(elDesc) {\n  // const currentPrice = elDesc.querySelector('.current').textContent.trim();\n  const actualPrice = elDesc.querySelector('.actual').textContent.trim();\n  const price = actualPrice.replace(/грн|[\\s]/g, '');\n\n  return price;\n}\n\nfunction createItemsFormDesc(articul, colors, sizeArr, price) {\n  //color\n  const color = colors\n    .map(el => {\n      return `<label><input type=\"radio\" name=\"color\" value=\"${el}\"/>${el}</label>`;\n    })\n    .join('');\n\n  //size\n  const size = sizeArr\n    .map(el => {\n      return `<label><input type=\"radio\" name=\"size\" value=\"${el}\"/>${el}</label>`;\n    })\n    .join('');\n\n  //create all elements of Form\n  const formEl = `<h2 id=\"dialog1_label\" class=\"modal-label\">\n              Ви хочете замовити модель №${articul}\n            </h2>\n            <fieldset form=\"form1\">\n              <legend>Оберіть колір:</legend>\n              ${color}\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Оберіть розмір:</legend>\n              ${size}\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Вкажіть кількість:</legend>\n              <label>\n                Вкажіть кількість:\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"10\"\n                  step=\"1\"\n                  value=\"1\"\n                  name=\"number\"\n                  class=\"number-amount\"\n                />\n              </label>\n            </fieldset>\n\n            <fieldset form=\"form1\">\n              <legend>Вартість:</legend>\n              <label>\n                Вартість:\n                <input\n                  type=\"number\"\n                  value=\"${price}\"\n                  name=\"count\"\n                  class=\"count-sum\"\n                  readonly\n                />грн\n              </label>\n            </fieldset>\n            <button type=\"submit\" class=\"btnSub\" data-action=\"add\">\n              В кошик\n            </button>`;\n\n  return formEl;\n}\n\nfunction openBasket() {\n  //Get Ref  data-action continue\n  const btnSubOrder = currentModal.querySelector('.btnSub'); //click-btn\n\n  const tableRowSum = currentModal.querySelector('.basket-table .sum #sum');\n  const basketTable = document.querySelector('.basket-table tbody');\n\n  if (allListOrder.length === 0) {\n    btnSubOrder.setAttribute('disabled', 'true');\n    return;\n  } else {\n    btnSubOrder.removeAttribute('disabled');\n  }\n\n  //clear tableList\n  while (basketTable.firstChild) {\n    basketTable.removeChild(basketTable.firstChild);\n  }\n\n  //Create basketTable\n  const createBasketList = createItems(allListOrder); // nextOrder\n\n  basketTable.insertAdjacentHTML('afterbegin', createBasketList.itemList);\n  tableRowSum.value = createBasketList.i;\n\n  //on click-continue\n  btnSubOrder.addEventListener('click', onClickBtn, { once: true }); //****once: true */\n\n  //Delete\n  const btnDelete = basketTable.querySelectorAll('.btn-delete');\n\n  btnDelete.forEach(btn => {\n    btn.addEventListener('click', onDelete, { once: true });\n  });\n}\n\nfunction createItems(arr) {\n  const imageUrl = new URL('../images/symbol-defs.svg', import.meta.url);\n  // console.log(imageUrl.pathname);\n  let i = 0;\n\n  const itemList = arr\n    .map(el => {\n      const { articul, color, size, number, id, count } = el;\n      i += count;\n\n      return `<tr id=\"${articul}\" class=\"item-delete\">\n              <td class=\"col1-row1\">\n                <label\n                  ><input\n                    type=\"text\"\n                    name=\"articul\"\n                    id=\"articul\"\n                    value=\"${articul}\"\n                    readonly\n                /></label>\n              </td>\n              <td class=\"col2-row2\">\n                <label\n                  ><input type=\"text\" name=\"color\" id=\"color\" value=\"${color}\" readonly\n                /></label>\n              </td>\n              <td class=\"col3-row3\">\n                <label\n                  ><input type=\"text\" name=\"size\" id=\"size\" value=\"${size}\" readonly\n                /></label>\n              </td>\n              <td class=\"col4-row4 num\">\n                <label\n                  ><input type=\"text\" name=\"number\" id=\"number\" value=\"${number}\" readonly\n                /></label>\n              </td>\n              <td class=\"col5-row5 num-sum\">\n                <label\n                  ><input type=\"text\" name=\"count\" id=\"count\" value=\"${count}\" readonly\n                /></label>\n              </td>\n              <td class=\"col6-row6\">\n                <button\n                  type=\"button\"\n                  class=\"btn-delete\"\n                  data-action=\"delete\"\n                  id=\"${id}\"\n                >\n                  <svg class=\"btn-delete__icon\">\n            <use\n              href=\"${imageUrl}#icon-basket-delete\"\n            ></use>\n          </svg>\n                </button>\n              </td>\n            </tr>`;\n    })\n    .join('');\n  return { itemList, i };\n}\n\nfunction onClickBtn(e) {\n  // create order  action='continue'\n  e.preventDefault();\n\n  //form2\n  let obj = {};\n  let order = [];\n  orderPost = { order };\n\n  const elements = e.target\n    .closest('#form2')\n    .querySelectorAll('input, textarea');\n\n  for (let i = 0; i < elements.length; ++i) {\n    const element = elements[i];\n    const name = element.name;\n    const value = element.value;\n\n    if (name !== 'sum') {\n      if (obj[name]) {\n        order.push(obj);\n        obj = {};\n      }\n      if (name === 'number' || name === 'count') {\n        obj[name] = Number(value);\n      } else {\n        obj[name] = value;\n      }\n    } else {\n      orderPost[name] = Number(value);\n    }\n  }\n  order.push(obj);\n\n  //change modal window\n  onCloseModal();\n  onOpenModal(e);\n}\n\nfunction onDelete(e) {\n  if (allListOrder.length === 1) {\n    const btnSubOrder = currentModal.querySelector('.btnSub');\n    btnSubOrder.setAttribute('disabled', 'true');\n  }\n\n  let updateBasket = allListOrder.filter(el => el.id !== e.target.id);\n\n  allListOrder = updateBasket;\n  updateStateBasket();\n\n  printQuantity();\n\n  //remove element\n  e.target.closest('.item-delete').remove();\n\n  //update Sum\n  const updateSum = updateBasket.reduce(function (acc, el) {\n    acc += el.count;\n    return acc;\n  }, 0);\n\n  const tableRowSum = currentModal.querySelector('.basket-table .sum #sum');\n  tableRowSum.value = updateSum;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$0ce38ee9a19d156b$var$Slider","constructor","rootSelector","this","_refs","_getRefs","_ind","_bindEvents","root","refs","controls","document","querySelector","slides","querySelectorAll","addEventListener","_onControlsClick","bind","e","preventDefault","target","nodeName","className","style","display","$40873ecf3c18e122$var$modal","$40873ecf3c18e122$var$backdrop","$40873ecf3c18e122$var$btnOpen","$40873ecf3c18e122$var$btnBasket","$40873ecf3c18e122$var$quantity","$40873ecf3c18e122$var$currentFocusEl","$40873ecf3c18e122$var$currentModal","$40873ecf3c18e122$var$textOrder","$40873ecf3c18e122$var$articul","$40873ecf3c18e122$var$price","$40873ecf3c18e122$var$allListOrder","$40873ecf3c18e122$var$orderPost","$40873ecf3c18e122$var$dialogIsOpen","myBasket","localStorage","getItem","parseMyBasket","$40873ecf3c18e122$var$printQuantity","error","console","log","$40873ecf3c18e122$var$getStateBasket","$40873ecf3c18e122$var$INTERACTIVE_SELECTORS","$40873ecf3c18e122$var$getInteractiveSelectors","map","el","concat","$40873ecf3c18e122$var$focusableElsDoc","toString","x","reduce","acc","number","textContent","$40873ecf3c18e122$var$onOpenModal","dataset","art","elDesc","closest","size","sizeNodeArr","forEach","push","$40873ecf3c18e122$var$getSize","color","colorStr","trim","split","$40873ecf3c18e122$var$getColor","actualPrice","$40873ecf3c18e122$var$getPrice","templateForm","articul","colors","sizeArr","price","join","formEl","$40873ecf3c18e122$var$createItemsFormDesc","formDesc","getElementById","$40873ecf3c18e122$var$resetFormElements","insertAdjacentHTML","checked","btnSubOrder","tableRowSum","basketTable","setAttribute","removeAttribute","firstChild","removeChild","createBasketList","arr","imageUrl","URL","$5efe21d2fe5326dc$exports","itemList","count","$40873ecf3c18e122$var$createItems","$40873ecf3c18e122$var$onClickBtn","once","btn","$40873ecf3c18e122$var$onDelete","$40873ecf3c18e122$var$openBasket","action","Date","toLocaleString","smb","reset","sum","classList","add","remove","form","$40873ecf3c18e122$var$onFormSubmit","btnClose","$40873ecf3c18e122$var$countSum","window","$40873ecf3c18e122$var$onEscKeyPress","$40873ecf3c18e122$var$onCloseModal","$40873ecf3c18e122$var$onBackdropClick","focusableElsMod","firstFocusEl","lastFocusEl","KEYCOD_TAB","setTimeout","focus","restrectFocus","removeEventListener","isTabPressed","code","keyCode","shiftKey","activeElement","$40873ecf3c18e122$var$trapFocus","formId","currentTarget","formData","FormData","append","nextOrder","name","Number","allListOrder","includes","findIndex","$40873ecf3c18e122$var$getAllListOrder","$40873ecf3c18e122$var$updateStateBasket","customer","buy","encodeURI","$40873ecf3c18e122$var$getMsg","str","user","y","key","order","setItem","stringify","obj","elements","element","updateBasket","filter","updateSum","getBundleURL","resolve"],"version":3,"file":"index.e8ca828f.js.map"}